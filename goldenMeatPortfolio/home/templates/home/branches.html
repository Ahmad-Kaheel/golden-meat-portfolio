{% extends "home/base.html" %}
{% load static %}

{% block content %}
<br><br><br><br><br>

<section class="section-bg">
    <div class="container">
      <h2>Branches</h2>
  
      <!-- Map with Branch Locations -->
      <div class="map-container">
        <!-- Map Image -->
        <img src="{% static 'img/maps.png' %}" alt="Map" class="map-image">
  
        <!-- Branch 1 Pin -->
        <div class="pin" id="pin-1" style="top: 31%; left: 48.40%;" onclick="showBranchDetails(1)">
          <i class="fas fa-map-pin"></i>
        </div>
  
        <!-- Branch 2 Pin -->
        <div class="pin" id="pin-2" style="top: 20%; left: 57.40%;" onclick="showBranchDetails(2)">
          <i class="fas fa-map-pin"></i>
        </div>
  
        <!-- Branch 3 Pin -->
        <div class="pin" id="pin-3" style="top: 51%; left: 28.40%;" onclick="showBranchDetails(3)">
          <i class="fas fa-map-pin"></i>
        </div>
      </div>
  
      <!-- Branch Details Card -->
      <div id="branch-details-card" class="branch-details-card hidden">
        <div class="card-content">
          <button class="close-btn" onclick="closeBranchDetails()">Ã—</button>
          <img src="" alt="Branch Photo" class="branch-photo">
          <h4 class="branch-name"></h4>
          <p class="branch-contact"></p>
          <a href="https://www.google.com/maps" target="_blank" class="directions-btn">Get Directions</a>
        </div>
      </div>
  
      <!-- Branch Information Cards (3 in one row) -->
      <div class="row branch-cards">
        
  
        <div class="col-4">
          <div class="card branch-card">
            <img src="{% static 'img/whoweare/2.jpg' %}" alt="Branch 2">
            <h3 class="branch-name">Riyadh Branch </h3>
            <hr>
            <div class="branch-details">
              <p class="branch-address">
                <i class="fas fa-map-marker-alt"></i> 1234 Main St, Riyadh, Saudi Arabia
              </p>
              <p class="branch-contact">
                <i class="fas fa-phone"></i>+966114133338
              </p>
            </div>
            <a href="https://www.google.com/maps" target="_blank" class="btn-directions">Get Directions</a>
          </div>
        </div>
  
        <div class="col-4">
          <div class="card branch-card">
            <img src="{% static 'img/whoweare/2.jpg' %}" alt="Branch 3">
            <h3 class="branch-name">Dammam Branch </h3>
            <hr>
            <div class="branch-details">
              <p class="branch-address">
                <i class="fas fa-map-marker-alt"></i> 1234 Main St, Riyadh, Saudi Arabia
              </p>
              <p class="branch-contact">
                <i class="fas fa-phone"></i>+966114133338
              </p>
            </div>
            <a href="https://www.google.com/maps" target="_blank" class="btn-directions">Get Directions</a>
          </div>
        </div>
  
        <div class="col-4">
          <div class="card branch-card">
            <img src="{% static 'img/whoweare/2.jpg' %}" alt="Branch 4">
            <h3 class="branch-name">Jeddah Branch </h3>
            <hr>
            <div class="branch-details">
              <p class="branch-address">
                <i class="fas fa-map-marker-alt"></i> 1234 Main St, Riyadh, Saudi Arabia
              </p>
              <p class="branch-contact">
                <i class="fas fa-phone"></i>+966114133338
              </p>
            </div>
            <a href="https://www.google.com/maps" target="_blank" class="btn-directions">Get Directions</a>
          </div>
        </div>
      </div>
  
    </div>
  </section>

  <script>
    const branches = {
        1: {
          photo: '{% static "img/whoweare/2.jpg" %} ',
          name: 'Riyadh Branch',
          contact: 'Phone: +966114133338',
        },
        2: {
          photo: '{% static "img/whoweare/2.jpg" %} ',
          name: 'Dammam Branch',
          contact: 'Phone: +966114133338',
        },
        3: {
          photo: '{% static "img/whoweare/2.jpg" %} ',
          name: 'Jeddah Branch',
          contact: 'Phone: +966114133338',
        },
      };
    
      function showBranchDetails(branchId) {
        const branch = branches[branchId];
        const card = document.getElementById('branch-details-card');
    
        // Update card content
        card.querySelector('.branch-photo').src = branch.photo;
        card.querySelector('.branch-name').textContent = branch.name;
        card.querySelector('.branch-contact').textContent = branch.contact;
    
        // Position the card near the pin (to the left of the pin)
        const pin = document.getElementById(`pin-${branchId}`);
        const rect = pin.getBoundingClientRect();
        card.style.top = `${rect.top + window.scrollY}px`;
        card.style.left = `${rect.left + window.scrollX - card.offsetWidth - 10}px`; // Adjusted to open on the left
    
        // Show the card with animation
        card.classList.remove('hidden');
        card.classList.add('show');
      }
    
      function closeBranchDetails() {
        const card = document.getElementById('branch-details-card');
        card.classList.remove('show');
        card.classList.add('hidden');
      }
    
  </script>
{% endblock %}

